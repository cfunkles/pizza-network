<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <script
        src="http://code.jquery.com/jquery-3.2.1.js"
        integrity="sha256-DZAnKJ/6XZ9si04Hgrsxu/8s717jcIzLy3oi35EouyE="
        crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="./index.css">
    <title>*Home*</title>
</head>
<body>
    <nav class="navbar navbar-default navbar-static-top">
        <div class="container-fluid">
            <div class="navbar-header">
                <a href="#" class="navbar-brand">
                    <!--placeholder image for future logo-->
                    <img src="http://www.hey.fr/fun/emoji/android/en/icon/android/227-emoji_android_slice_of_pizza.png" alt="firebrick-logo">
                </a>
                <!--Create better title style the shit out of this!-->
                <h4>Pizza-Network</h4>
            </div>
            <ul class="nav navbar-nav navbar-right">
                <!--To Do: change to buttons, customize the sytle more-->
                <li class="active"><a href="home.html">Home</a></li>
                <li><a href="complete.html">Complete Pizzeria List</a> </li>
                <li><a href="chats.html">The Slicial Network</a></li>
            </ul>
        </div>
    </nav>

    <div class="container" id="topten">
        
    </div>

    <div class="container">
		<div class="row">
			<div class="col-sm-4 col-sm-offset-4">
				Name: <input type="text" id="newPizzaName" class="form-control">
				Telephone: <input type="text" id="newPizzaTel" class="form-control">
				URL: <input type="text" id="newPizzaSite" class="form-control">
                Address: <input type="text" id="newPizzaAdd" class="form-control">
                City: <input type="text" id="newPizzaCity" class="form-control">
                State: <input type="text" id="newPizzaState" class="form-control">
                <!-- fix the radio buttons so that they unselect -->
				Available Styles: 
                <div class="pizzaStyles">
                    <input type="checkbox" id="york"> New York<br>
                    <input type="checkbox" id="deep"> Deep Dish<br>
                    <input type="checkbox" id="brick"> Brick Oven<br>
                    <input type="checkbox" id="authentic"> Authentic<br>
                </div>
				Delivery Option: (Please select one): 
                <div class="deliveryStatus">
                    <input type="checkbox" id="delYes" name="del"> Has Delivery<br>
                    <input type="checkbox" id="delNo"> Pick-Up Or Dine-In Only<br>
                </div>
                Kid Friendly:
                <div>
                    <input type="checkbox" id="kids" name="kids"> Kid-Friendly<br>
                </div>
                <button class="btn btn-info" id="newPizzaSubmit">Submit Pizzeria</button>
			</div>
		</div>
	</div>

    <script>
        //top ten stuff
        // $(document).ready(function() {
        //     $.get()
        // })

        //profile creation
        $('#newPizzaSubmit').click(function() {
            $.post('/api/newPlace'), {
                name: $('#newPizzaName').val(),
                address: $('#newPizzaAdd').val(),
                city: $('#newPizzaCity').val(),
                state: $('#newPizzaState').val(),
                phone: $('#newPizzaTel').val(),
                url: $('#newPizzaSite').val(),
                type: getCheckboxValues(),
                delivery: $('input[name=del]:checked').val(),
                kidFriendly: $('input[name=kids]:checked').val(),
                upVotes: 0,
                downVotes: 0
            }, function () {
                console.log("did it go in?");
                $('#newPizzaName').val('');
                $('#newPizzaAdd').val('');
                $('#newPizzaCity').val('');
                $('#newPizzaState').val('');
                $('#newPizzaTel').val('');
                $('#newPizzaSite').val('');
                //the following two may not be correct
                $('input[type=checkbox]').removeAttr('checked');
                $('input[type=radio]').removeAttr('checked');
            }
        });

function getCheckboxValues(){
    var data = { 'pizzaType' : []};
    $(":checked").each(function() {
        data['pizzaType'].push($(this).val());
    });
    return data.pizzaType;
}
    </script>
</body>
</html>